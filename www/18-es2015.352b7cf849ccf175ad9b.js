(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{X3zk:function(t,o,n){"use strict";n.r(o),n.d(o,"LoginPageModule",(function(){return p}));var e=n("ofXK"),i=n("3Pt+"),r=n("TEn/"),s=n("tyNb"),b=n("mrSG"),a=n("fXoL"),c=n("r28Q");function l(t,o){if(1&t){const t=a.Lb();a.Kb(0,"ion-content"),a.Kb(1,"div",4),a.jc(2,"\n\xa0\n"),a.Jb(),a.Kb(3,"div",5),a.Kb(4,"h1"),a.jc(5),a.Jb(),a.Ib(6,"br"),a.Kb(7,"form",6,7),a.Sb("ngSubmit",(function(){a.ec(t);const o=a.dc(8);return a.Ub().login(o.value)})),a.Kb(9,"ion-item"),a.Kb(10,"ion-label",8),a.jc(11),a.Jb(),a.Kb(12,"ion-input",9),a.Sb("ngModelChange",(function(o){return a.ec(t),a.Ub().phone=o})),a.Jb(),a.Jb(),a.Kb(13,"ion-item"),a.Kb(14,"ion-label",8),a.jc(15),a.Jb(),a.Kb(16,"ion-input",10),a.Sb("ngModelChange",(function(o){return a.ec(t),a.Ub().password=o})),a.Jb(),a.Jb(),a.Ib(17,"br"),a.Kb(18,"ion-button",11),a.jc(19),a.Jb(),a.Jb(),a.Jb(),a.Jb()}if(2&t){const t=a.Ub();a.xb(5),a.kc(t.text.login_title),a.xb(6),a.kc(t.text.d_login_phone),a.xb(1),a.Xb("ngModel",t.phone),a.xb(3),a.kc(t.text.login_password),a.xb(1),a.Xb("ngModel",t.password),a.xb(3),a.kc(t.text.login_button)}}const d=[{path:"",component:(()=>{class t{constructor(t,o,n,e,i){this.route=t,this.server=o,this.toastController=n,this.nav=e,this.loadingController=i,this.text=JSON.parse(localStorage.getItem("app_text"))}ngOnInit(){}login(t){return Object(b.a)(this,void 0,void 0,(function*(){if(!this.phone||!this.password)return this.presentToast(this.text.login_validation);const o=yield this.loadingController.create({message:"",spinner:"bubbles"});yield o.present(),this.server.login(t).subscribe(t=>{"done"!=t.msg?this.presentToast(this.text.login_error):(localStorage.setItem("user_id",t.user.id),localStorage.setItem("user_data",JSON.stringify(t.user)),window.location.href="/home"),o.dismiss()})}))}presentToast(t){return Object(b.a)(this,void 0,void 0,(function*(){(yield this.toastController.create({message:t,duration:3e3,position:"top",mode:"ios",color:"dark"})).present()}))}}return t.\u0275fac=function(o){return new(o||t)(a.Hb(s.a),a.Hb(c.a),a.Hb(r.U),a.Hb(r.Q),a.Hb(r.P))},t.\u0275cmp=a.Bb({type:t,selectors:[["app-login"]],decls:5,vars:1,consts:[[1,"ion-no-border"],["color","light"],["slot","start"],[4,"ngIf"],[2,"height","80px","background-color","#f4f5f8"],[1,"ion-padding",2,"height","auto","margin-top","-20%","border-radius","30px","background-color","white"],[3,"ngSubmit"],["form","ngForm"],["position","floating"],["type","tel","required","","name","phone",3,"ngModel","ngModelChange"],["type","password","required","","name","password",3,"ngModel","ngModelChange"],["expand","block","mode","ios","type","submit"]],template:function(t,o){1&t&&(a.Kb(0,"ion-header",0),a.Kb(1,"ion-toolbar",1),a.Kb(2,"ion-buttons",2),a.Ib(3,"ion-back-button"),a.Jb(),a.Jb(),a.Jb(),a.ic(4,l,20,6,"ion-content",3)),2&t&&(a.xb(4),a.Xb("ngIf",o.text))},directives:[r.q,r.M,r.i,r.e,r.f,e.i,r.p,i.i,i.e,i.f,r.t,r.u,r.s,r.T,i.h,i.d,i.g,r.h],styles:[""]}),t})()}];let u=(()=>{class t{}return t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({factory:function(o){return new(o||t)},imports:[[s.i.forChild(d)],s.i]}),t})(),p=(()=>{class t{}return t.\u0275mod=a.Fb({type:t}),t.\u0275inj=a.Eb({factory:function(o){return new(o||t)},imports:[[e.b,i.a,r.N,u]]}),t})()}}]);