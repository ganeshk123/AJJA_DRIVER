!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{X3zk:function(n,o,r){"use strict";r.r(o),r.d(o,"LoginPageModule",(function(){return v}));var i=r("ofXK"),a=r("3Pt+"),s=r("TEn/"),b=r("tyNb"),c=r("mrSG"),u=r("fXoL"),l=r("r28Q");function p(e,t){if(1&e){var n=u.Lb();u.Kb(0,"ion-content"),u.Kb(1,"div",4),u.jc(2,"\n\xa0\n"),u.Jb(),u.Kb(3,"div",5),u.Kb(4,"h1"),u.jc(5),u.Jb(),u.Ib(6,"br"),u.Kb(7,"form",6,7),u.Sb("ngSubmit",(function(){u.ec(n);var e=u.dc(8);return u.Ub().login(e.value)})),u.Kb(9,"ion-item"),u.Kb(10,"ion-label",8),u.jc(11),u.Jb(),u.Kb(12,"ion-input",9),u.Sb("ngModelChange",(function(e){return u.ec(n),u.Ub().phone=e})),u.Jb(),u.Jb(),u.Kb(13,"ion-item"),u.Kb(14,"ion-label",8),u.jc(15),u.Jb(),u.Kb(16,"ion-input",10),u.Sb("ngModelChange",(function(e){return u.ec(n),u.Ub().password=e})),u.Jb(),u.Jb(),u.Ib(17,"br"),u.Kb(18,"ion-button",11),u.jc(19),u.Jb(),u.Jb(),u.Jb(),u.Jb()}if(2&e){var o=u.Ub();u.xb(5),u.kc(o.text.login_title),u.xb(6),u.kc(o.text.d_login_phone),u.xb(1),u.Xb("ngModel",o.phone),u.xb(3),u.kc(o.text.login_password),u.xb(1),u.Xb("ngModel",o.password),u.xb(3),u.kc(o.text.login_button)}}var d,g,f,h=[{path:"",component:(d=function(){function n(t,o,r,i,a){e(this,n),this.route=t,this.server=o,this.toastController=r,this.nav=i,this.loadingController=a,this.text=JSON.parse(localStorage.getItem("app_text"))}var o,r,i;return o=n,(r=[{key:"ngOnInit",value:function(){}},{key:"login",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(this.phone&&this.password){t.next=2;break}return t.abrupt("return",this.presentToast(this.text.login_validation));case 2:return t.next=4,this.loadingController.create({message:"",spinner:"bubbles"});case 4:return n=t.sent,t.next=7,n.present();case 7:this.server.login(e).subscribe((function(e){"done"!=e.msg?o.presentToast(o.text.login_error):(localStorage.setItem("user_id",e.user.id),localStorage.setItem("user_data",JSON.stringify(e.user)),window.location.href="/home"),n.dismiss()}));case 8:case"end":return t.stop()}}),t,this)})))}},{key:"presentToast",value:function(e){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:e,duration:3e3,position:"top",mode:"ios",color:"dark"});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}}])&&t(o.prototype,r),i&&t(o,i),n}(),d.\u0275fac=function(e){return new(e||d)(u.Hb(b.a),u.Hb(l.a),u.Hb(s.U),u.Hb(s.Q),u.Hb(s.P))},d.\u0275cmp=u.Bb({type:d,selectors:[["app-login"]],decls:5,vars:1,consts:[[1,"ion-no-border"],["color","light"],["slot","start"],[4,"ngIf"],[2,"height","80px","background-color","#f4f5f8"],[1,"ion-padding",2,"height","auto","margin-top","-20%","border-radius","30px","background-color","white"],[3,"ngSubmit"],["form","ngForm"],["position","floating"],["type","tel","required","","name","phone",3,"ngModel","ngModelChange"],["type","password","required","","name","password",3,"ngModel","ngModelChange"],["expand","block","mode","ios","type","submit"]],template:function(e,t){1&e&&(u.Kb(0,"ion-header",0),u.Kb(1,"ion-toolbar",1),u.Kb(2,"ion-buttons",2),u.Ib(3,"ion-back-button"),u.Jb(),u.Jb(),u.Jb(),u.ic(4,p,20,6,"ion-content",3)),2&e&&(u.xb(4),u.Xb("ngIf",t.text))},directives:[s.q,s.M,s.i,s.e,s.f,i.i,s.p,a.i,a.e,a.f,s.t,s.u,s.s,s.T,a.h,a.d,a.g,s.h],styles:[""]}),d)}],m=((f=function t(){e(this,t)}).\u0275mod=u.Fb({type:f}),f.\u0275inj=u.Eb({factory:function(e){return new(e||f)},imports:[[b.i.forChild(h)],b.i]}),f),v=((g=function t(){e(this,t)}).\u0275mod=u.Fb({type:g}),g.\u0275inj=u.Eb({factory:function(e){return new(e||g)},imports:[[i.b,a.a,s.N,m]]}),g)}}])}();