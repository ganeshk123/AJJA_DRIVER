!function(){function e(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function t(e,t){for(var n=0;n<t.length;n++){var o=t[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}(window.webpackJsonp=window.webpackJsonp||[]).push([[16],{"ct+p":function(n,o,i){"use strict";i.r(o),i.d(o,"HomePageModule",(function(){return I}));var r=i("ofXK"),a=i("3Pt+"),c=i("TEn/"),b=i("tyNb"),s=i("mrSG"),l=i("fXoL"),u=i("r28Q");function d(e,t){if(1&e&&(l.Kb(0,"ion-title"),l.jc(1),l.Jb()),2&e){var n=l.Ub();l.xb(1),l.kc(n.text.d_home_title)}}function f(e,t){if(1&e&&(l.Kb(0,"ion-label"),l.jc(1),l.Jb()),2&e){var n=l.Ub(2);l.xb(1),l.lc("",n.text.d_active,"\xa0\xa0")}}function p(e,t){if(1&e&&(l.Kb(0,"ion-label"),l.jc(1),l.Jb()),2&e){var n=l.Ub(2);l.xb(1),l.lc("",n.text.d_offline,"\xa0\xa0")}}function g(e,t){if(1&e){var n=l.Lb();l.Kb(0,"ion-buttons",6),l.ic(1,f,2,1,"ion-label",4),l.ic(2,p,2,1,"ion-label",4),l.Kb(3,"ion-toggle",7),l.Sb("ngModelChange",(function(e){return l.ec(n),l.Ub().online=e}))("ionChange",(function(){return l.ec(n),l.Ub().setStatus(1)})),l.Jb(),l.Jb()}if(2&e){var o=l.Ub();l.xb(1),l.Xb("ngIf",o.online),l.xb(1),l.Xb("ngIf",!o.online),l.xb(1),l.Xb("ngModel",o.online)}}function x(e,t){if(1&e&&(l.Kb(0,"p",13),l.jc(1),l.Jb()),2&e){var n=l.Ub(2);l.xb(1),l.kc(n.text.d_no_order)}}function h(e,t){if(1&e){var n=l.Lb();l.Kb(0,"ion-col",16),l.Kb(1,"ion-button",21),l.Sb("click",(function(){l.ec(n);var e=l.Ub().$implicit;return l.Ub(2).detail(e)})),l.jc(2),l.Jb(),l.Jb()}if(2&e){var o=l.Ub(3);l.xb(2),l.kc(o.text.d_view_detail)}}function v(e,t){if(1&e){var n=l.Lb();l.Kb(0,"ion-col",16),l.Kb(1,"ion-button",22),l.Sb("click",(function(){l.ec(n);var e=l.Ub().$implicit;return l.Ub(2).accept(e)})),l.jc(2),l.Jb(),l.Jb()}if(2&e){var o=l.Ub(3);l.xb(2),l.kc(o.text.d_accept)}}function m(e,t){if(1&e&&(l.Kb(0,"ion-row",14),l.Kb(1,"ion-col",15),l.jc(2),l.Jb(),l.Kb(3,"ion-col",16),l.jc(4,"\xa0"),l.Jb(),l.Kb(5,"ion-col",17),l.Kb(6,"b"),l.jc(7),l.Jb(),l.Jb(),l.Kb(8,"ion-col",18),l.jc(9),l.Jb(),l.Kb(10,"ion-col",17),l.Kb(11,"b"),l.jc(12),l.Jb(),l.Jb(),l.Kb(13,"ion-col",18),l.jc(14),l.Jb(),l.Kb(15,"ion-col",17),l.Kb(16,"b"),l.jc(17),l.Jb(),l.Jb(),l.Kb(18,"ion-col",18),l.Kb(19,"a",19),l.jc(20),l.Jb(),l.Jb(),l.Kb(21,"ion-col",17),l.Kb(22,"b"),l.jc(23),l.Jb(),l.Jb(),l.Kb(24,"ion-col",18),l.jc(25),l.Jb(),l.Kb(26,"ion-col",16),l.jc(27,"\xa0"),l.Jb(),l.ic(28,h,3,1,"ion-col",20),l.ic(29,v,3,1,"ion-col",20),l.Jb()),2&e){var n=t.$implicit,o=l.Ub(2);l.xb(2),l.lc("",n.store," "),l.xb(5),l.kc(o.text.d_order_id),l.xb(2),l.kc(n.id),l.xb(3),l.kc(o.text.d_user),l.xb(2),l.kc(n.user.name),l.xb(3),l.kc(o.text.d_phone),l.xb(2),l.Zb("href","tel:",n.user.phone,"",l.gc),l.xb(1),l.kc(n.user.phone),l.xb(3),l.kc(o.text.d_address),l.xb(2),l.kc(n.user.address),l.xb(3),l.Xb("ngIf",n.st>1),l.xb(1),l.Xb("ngIf",1==n.st)}}function J(e,t){if(1&e){var n=l.Lb();l.Kb(0,"ion-content"),l.Kb(1,"div",8),l.jc(2,"\n\xa0\n"),l.Jb(),l.Kb(3,"ion-refresher",9),l.Sb("ionRefresh",(function(e){return l.ec(n),l.Ub().doRefresh(e)})),l.Ib(4,"ion-refresher-content"),l.Jb(),l.Kb(5,"div",10),l.ic(6,x,2,1,"p",11),l.ic(7,m,30,12,"ion-row",12),l.Jb(),l.Jb()}if(2&e){var o=l.Ub();l.xb(6),l.Xb("ngIf",0==o.data.length),l.xb(1),l.Xb("ngForOf",o.data)}}var k,K,w,y=[{path:"",component:(k=function(){function n(t,o,i,r,a){e(this,n),this.toastController=t,this.alertController=o,this.server=i,this.nav=r,this.loadingController=a,this.online=!1,this.userData=JSON.parse(localStorage.getItem("user_data"))}var o,i,r;return o=n,(i=[{key:"ionViewWillEnter",value:function(){localStorage.getItem("app_text")&&null!=localStorage.getItem("app_text")&&(this.text=JSON.parse(localStorage.getItem("app_text"))),this.loadData()}},{key:"ngOnInit",value:function(){}},{key:"loadData",value:function(){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function e(){var t,n=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.loadingController.create({spinner:"bubbles"});case 2:return t=e.sent,e.next=5,t.present();case 5:this.server.homepage(localStorage.getItem("user_id"),3).subscribe((function(e){n.data=e.data,n.text=e.text,n.online=1==e.dboy.online,localStorage.setItem("app_text",JSON.stringify(e.text)),t.dismiss()}));case 6:case"end":return e.stop()}}),e,this)})))}},{key:"presentToast",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.toastController.create({message:e,duration:3e3,position:"top",mode:"ios",color:"dark"});case 2:t.sent.present();case 3:case"end":return t.stop()}}),t,this)})))}},{key:"detail",value:function(e){localStorage.setItem("odata",JSON.stringify(e)),this.nav.navigateForward("/detail")}},{key:"doRefresh",value:function(e){var t=this;console.log("Begin async operation"),setTimeout((function(){t.loadData(),e.target.complete()}),1e3)}},{key:"setStatus",value:function(e){var t=1==this.online?1:0;this.server.setStatus(localStorage.getItem("user_id"),t).subscribe((function(e){}))}},{key:"accept",value:function(e){return Object(s.a)(this,void 0,void 0,regeneratorRuntime.mark((function t(){var n,o=this;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.loadingController.create({spinner:"bubbles"});case 2:return n=t.sent,t.next=5,n.present();case 5:this.server.accept(localStorage.getItem("user_id"),e.id).subscribe((function(e){"error"!=e.data?o.data=e.data:(o.presentToast("Opps! this order is already assigned to somebody else."),o.loadData()),n.dismiss()}));case 6:case"end":return t.stop()}}),t,this)})))}}])&&t(o.prototype,i),r&&t(o,r),n}(),k.\u0275fac=function(e){return new(e||k)(l.Hb(c.U),l.Hb(c.a),l.Hb(u.a),l.Hb(c.Q),l.Hb(c.P))},k.\u0275cmp=l.Bb({type:k,selectors:[["app-home"]],decls:7,vars:3,consts:[[1,"ion-no-border"],["color","light"],["slot","start"],["color","primary"],[4,"ngIf"],["slot","end","style","border:1px solid white;border-radius: 10px;padding: 3px 5px",4,"ngIf"],["slot","end",2,"border","1px solid white","border-radius","10px","padding","3px 5px"],["color","success",3,"ngModel","ngModelChange","ionChange"],[2,"height","80px","background-color","#f4f5f8"],["slot","fixed",3,"ionRefresh"],[2,"height","auto","margin-top","-20%","border-radius","30px","background-color","white"],["style","padding: 20px 20px;padding-top: 10%;font-weight: bold","align","center",4,"ngIf"],["style","padding: 10px 10px;border-bottom: 10px solid #f4f5f8;font-size: 12px",4,"ngFor","ngForOf"],["align","center",2,"padding","20px 20px","padding-top","10%","font-weight","bold"],[2,"padding","10px 10px","border-bottom","10px solid #f4f5f8","font-size","12px"],["size","12",2,"font-size","20px","font-weight","bold"],["size","12"],["size","4"],["size","8"],[3,"href"],["size","12",4,"ngIf"],["expand","block","mode","ios",3,"click"],["expand","block","mode","ios","color","success",3,"click"]],template:function(e,t){1&e&&(l.Kb(0,"ion-header",0),l.Kb(1,"ion-toolbar",1),l.Kb(2,"ion-buttons",2),l.Ib(3,"ion-menu-button",3),l.Jb(),l.ic(4,d,2,1,"ion-title",4),l.ic(5,g,4,3,"ion-buttons",5),l.Jb(),l.Jb(),l.ic(6,J,8,2,"ion-content",4)),2&e&&(l.xb(4),l.Xb("ngIf",t.userData&&t.text),l.xb(1),l.Xb("ngIf",t.text),l.xb(1),l.Xb("ngIf",t.data&&t.text))},directives:[c.q,c.M,c.i,c.y,r.i,c.K,c.L,c.b,a.d,a.g,c.u,c.p,c.B,c.C,r.h,c.E,c.o,c.h],styles:[".welcomeHeader[_ngcontent-%COMP%]{height:200px}.homeHeader[_ngcontent-%COMP%]{background-color:var(--ion-color-light);color:#fff;height:140px}"]}),k)}],j=((w=function t(){e(this,t)}).\u0275mod=l.Fb({type:w}),w.\u0275inj=l.Eb({factory:function(e){return new(e||w)},imports:[[b.i.forChild(y)],b.i]}),w),I=((K=function t(){e(this,t)}).\u0275mod=l.Fb({type:K}),K.\u0275inj=l.Eb({factory:function(e){return new(e||K)},imports:[[r.b,a.a,c.N,j]]}),K)}}])}();